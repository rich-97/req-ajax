"use strict";var ajax={xhr:function(){try{return new window.XMLHttpRequest}catch(t){throw t}},query:function t(e){var s=this.xhr(),n=e.url,a=e.method,r=e.params,i=e.fragment,t=n;if(r){t+="?";for(var u in r)t+=u+"="+r[u]+"&";t=t.replace(/&$/,"")}return i&&(t+="#"+i),s.open(a,t,!0),s.send(),new Promise(function(t,e){s.onreadystatechange=function(){4===this.readyState?t(this.responseText):(403===this.status||404===this.status)&&e("Status code "+this.status)}})},get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1,s=this.xhr();return s.open("GET",t,!0),s.send(),new Promise(function(t,n){s.onreadystatechange=function(){if(4===this.readyState){var s=this.responseText,a=e?JSON.parse(s):s;t(a)}else(403===this.status||404===this.status)&&n("Status code "+this.status)}})},post:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1,n=this.xhr();return e=s?JSON.stringify(e):e,n.open("POST",t,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(e),new Promise(function(t,e){n.onreadystatechange=function(){4===this.readyState?t(this.responseText):(403===this.status||404===this.status)&&e("Status code "+this.status)}})}};